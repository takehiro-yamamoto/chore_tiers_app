<%= render "shared/tier_list_header" %>

<main class="container">
  <section class="intro">
    <h2>家事のティアリストを編集</h2>
    <p>ドラッグ＆ドロップで家事をティアに分類できます。</p>
  </section>

  <div class="tier-wrapper">
    <section class="tiers">
      <% @tiers.each do |tier| %>
        <div class="tier tier-<%= tier.name.downcase %>">
          <div class="tier-label"><%= tier.name %></div>
          <div class="tier-drop-zone" data-tier-id="<%= tier.id %>">
            <% tier.chores.each do |chore| %>
              <div class="chore-card" draggable="true" data-chore-id="<%= chore.id %>">
                <%= chore.title %>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
    </section>

    <section class="unassigned-container">
      <h3>未割り当ての家事</h3>
      <div class="unassigned-chores tier-drop-zone" id="unassigned-chores">
        <% @unassigned_chores.each do |chore| %>
          <div class="chore-card" draggable="true" data-chore-id="<%= chore.id %>">
            <%= chore.title %>
          </div>
        <% end %>
      </div>
    </section>
  </div>
</main>

<%= javascript_include_tag "tier_list_edit" %>
<%= stylesheet_link_tag "tier_list_edit", media: "all" %>